// Extend props
interface LoaderProps {
  size?: "sm" | "md" | "lg" | number;
  label?: string;
  show?: boolean;
  overlay?: boolean;
}

// Example Spinner updated
export const Spinner: React.FC<LoaderProps> = ({
  size = "md",
  label = "Loading...",
  show = true,
  overlay = false,
}) => {
  if (!show) return null;

  const { sz, num } =
    typeof size === "number"
      ? { sz: "", num: size }
      : size === "sm"
      ? { sz: "h-4 w-4", num: 16 }
      : size === "lg"
      ? { sz: "h-6 w-6", num: 24 }
      : { sz: "h-5 w-5", num: 20 };

  const spinner = (
    <svg
      role="status"
      aria-label={label}
      className={`${typeof size === "number" ? "" : sz} animate-spin text-white dark:text-white fill-transparent`.replace(
        /\s+/g,
        " "
      )}
      style={typeof size === "number" ? { width: num, height: num } : {}}
      viewBox="0 0 100 101"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <circle
        className="opacity-25"
        cx="50"
        cy="50"
        r="45"
        stroke="currentColor"
        strokeWidth="10"
      />
      <path
        className="opacity-75"
        fill="currentColor"
        d="M93.9676 39.0409C96.393 39.8813 97.8624 42.5943 96.9993 45.0274C95.0284 50.8511 91.5962 56.1166 86.9785 60.1445C82.3608 64.1725 76.7461 66.819 70.7754 67.6923C64.8047 68.5656 58.7082 67.6237 53.1976 65.0055C47.6869 62.3874 43.039 58.2037 39.7923 52.984C36.5456 47.7643 34.8328 41.7563 34.8869 35.6269C34.9409 29.4975 36.7606 23.555 40.0487 18.4809C43.3368 13.4068 47.9405 9.41313 53.3162 7.18146C58.6919 4.94979 64.5996 4.58872 70.2577 6.15513C75.9157 7.72153 81.0529 10.7395 85.2461 15.0659C89.4394 19.3924 92.867 24.7473 94.7411 30.6661C95.6541 33.2455 93.5423 36.0913 90.8069 36.8397L82.6707 39.739C81.3343 40.0947 80.1959 41.1657 79.4111 42.4113C78.6263 43.6565 78.5456 45.1089 78.9997 47.3484C79.4541 49.5885 80.9632 51.6795 82.3548 52.1588C83.7464 52.6878 84.9797 52.4514 86.0308 51.2583C87.082 50.0652 87.4867 48.1653 87.1947 46.2744C86.9027 44.199 86.2979 42.2009 85.4442 40.4439C84.5905 38.687 83.3167 37.1523 81.7671 35.8178C80.2176 34.4833 78.3678 34.0955 76.9528 34.3561C75.5378 34.6167 74.2011 35.3799 73.2864 36.6144C72.3716 37.849 71.554 39.1712 70.8637 40.5566C70.1734 41.9084 70.071 43.3799 70.5526 44.6931C71.0343 46.0062 72.0529 47.2201 73.4161 47.5823C74.7794 47.9444 76.7087 47.7739 78.4829 47.0534C80.257 46.333 81.2392 45.3415 81.9083 44.3879C82.5774 43.4429 83.0581 42.4184 83.2114 41.3501C83.3641 40.0207 83.2174 38.6445 82.0071 37.3893C81.4083 36.1347 80.1585 34.3561 78.1072 34.1954C76.0561 34.0347 73.9665 34.3955 71.3747 35.2608C69.3489 36.126 68.0594 37.1864 66.6884 38.2224C65.3173 39.2588 64.1797 40.4925 63.2387 41.7078C62.2978 43.0012 61.8002 44.1017 61.6117 45.2205C61.4232 46.3398 61.6162 47.5998 62.0613 48.7825C62.5063 49.9651 63.0851 51.2948 63.8013 52.5007C64.5175 53.7065 65.5303 54.0171 66.6927 54.3397C67.855 54.6624 69.0983 54.5163 71.2746 52.6971C73.4509 50.878 75.4906 48.4918 77.7562 46.4077C79.7719 44.3235 81.4961 41.3479 83.0483 38.2802C84.6005 35.3121 85.9133 32.4239 86.9432 29.9386C87.9731 26.6594 89.3354 23.3357 90.0194 20.3941C90.3034 18.6988 90.3958 16.9794 90.2944 15.2388C90.1931 13.4982 89.8188 11.9119 89.2263 10.5907C88.6339 9.26946 87.8478 8.07563 86.8896 7.27372C85.9314 6.47181 84.8269 5.65754 83.6245 5.28624C82.4222 4.91494 81.0725 4.93053 79.8502 5.20632C78.6279 5.48211 77.5249 6.02041 76.557 6.41023C75.589 6.80004 74.5447 7.07776 73.4269 7.5775C72.3091 8.077 71.1833 8.3717 70.7257 8.35444C70.2682 8.33768 69.8233 8.21782 69.424 7.98355C69.0248 7.74929 68.6883 7.40511 68.451 6.97752C68.2137 6.54992 68.0813 6.05121 68.064 5.53589C68.0467 5.02057 68.1444 4.50661 68.3506 4.03376C68.5567 3.56092 68.8643 3.13952 69.2513 2.8016C69.6383 2.46368 70.0511 2.19118 70.488 1.99048C70.9249 1.78977 71.3785 1.65042 71.8306 1.62026C72.2828 1.5901 72.7245 1.53577 73.1354 1.52365C73.5463 1.51153 73.9613 1.53256 74.3632 1.58699C74.7649 1.64143 75.1555 1.71797 75.5307 1.77749C75.9058 1.83702 76.2711 1.91571 76.6167 1.97735C76.9623 2.039 77.3057 2.13279 77.6463 2.21806C77.987 2.3039 78.3586 2.3551 78.7435 2.33929C79.1284 2.32348 79.5268 2.29341 79.9181 2.22163C80.3094 2.14984 80.6905 2.01936 81.0473 1.87064C81.4041 1.72216 81.7399 1.60115 82.0606 1.47294C82.3812 1.34473 82.7248 1.28148 83.0684 1.28772C83.412 1.29396 83.7507 1.36282 84.0598 1.48738C84.3689 1.61194 84.6425 1.78899 84.8716 1.93053C85.1007 2.07206 85.3343 2.21429 85.5565 2.38603C85.7786 2.55766 85.9918 2.73794 86.1916 2.9416C86.3915 3.14525 86.5806 3.37854 86.7551 3.60102C86.9296 3.82349 87.0916 4.05374 87.241 4.31389C87.3904 4.57404 87.5239 4.89174 87.6359 5.23202C87.748 5.57271 87.8553 5.92351 87.956 6.27986C88.0568 6.63621 88.1532 6.99792 88.2466 7.35415C88.3399 7.71037 88.4198 8.14544 88.4832 8.59261C88.5466 9.03978 88.5938 9.49986 88.6235 9.96258C88.6533 10.4253 88.6657 10.8902 88.6596 11.3554C88.6534 11.8206 88.6286 12.2855 88.5853 12.7483C88.5421 13.2111 88.4803 13.6715 88.4004 14.1281C88.3205 14.5846 88.2212 15.0384 88.1037 15.4882C87.9857 15.9381 87.8488 16.3835 87.6937 16.8234C87.5386 17.2634 87.3771 17.6997 87.1905 18.1295C87.0039 18.5089 86.8014 18.9036 86.5855 19.2879C86.3697 19.6723 86.1296 20.0361 85.6728 20.3651C85.2161 20.694 84.7175 20.979 84.2298 21.2424C83.7422 21.5058 83.2308 21.7885 82.7021 22.0579C82.1734 22.3274 81.6062 22.8293 81.0395 23.2956C80.4728 23.762 79.4231 24.6767 78.6012 25.4098C77.7793 26.143 76.6405 27.3941 75.3845 28.6029C74.1287 29.8118 72.7233 30.9243 71.8913 32.0278C71.0593 33.1313 70.3035 34.3359 69.3654 35.5073C68.4274 36.6791 67.6968 37.7763 67.0059 38.9084C66.3149 40.0405 65.6671 41.3192 65.0659 43.6779C64.664 45.0789 64.3076 46.4975 64.0027 47.9226C63.6978 49.3476 63.4455 50.7806 63.2501 52.2553C63.0548 53.7299 62.9161 55.2447 62.8365 56.7919C62.7569 58.3391 62.7361 59.9279 62.7759 61.5597C62.8156 63.1916 62.9158 64.8624 63.0773 66.5608C63.2389 68.2581 63.4609 69.9852 63.7435 71.7393C64.0261 73.4934 64.3696 75.2755 64.7735 77.0844C65.1775 78.8933 65.642 80.6281 66.1667 82.3912C66.6915 84.1544 67.2766 85.9468 67.9213 87.7683C68.566 89.5899 69.2692 91.4413 70.0315 93.3238C70.7938 95.2063 71.6147 97.1207 72.4938 99.0666C73.3729 101.013 74.3099 102.992 75.3042 105.003C76.2986 107.015 77.3504 109.059 78.4596 111.135C79.5688 113.211 80.7349 115.32 81.9571 117.462C83.1793 119.603 84.4573 121.778 85.7911 123.986C87.125 126.194 88.5147 128.435 89.9587 130.708C91.4027 132.981 92.9005 135.286 94.4523 137.624C96.004 139.962 97.6127 142.327 99.278 144.724C100.943 147.122 102.667 149.553 104.448 152.012C106.229 154.472 108.069 156.961 109.968 159.479C111.867 161.998 113.825 164.545 115.841 167.121C117.857 169.696 119.932 172.299 122.065 174.931C124.198 177.563 126.389 180.227 128.637 182.927C130.885 185.628 133.19 188.361 135.552 191.131C137.914 193.901 140.333 196.706 142.808 199.546C145.283 202.386 147.815 205.26 150.404 208.164C151.993 211.069 153.639 213.996 155.342 216.956C157.045 219.917 158.806 222.904 160.624 225.917C162.441 228.93 164.316 231.969 166.248 235.034C168.18 238.099 170.168 241.191 172.214 244.315C174.26 247.439 176.363 250.586 178.524 253.755C180.685 256.923 182.903 260.118 185.178 263.346C187.452 266.574 189.784 269.827 192.174 273.125C194.564 276.422 197.012 279.743 199.518 283.1C202.024 286.458 204.588 289.866 207.21 293.311C209.832 296.757 212.512 300.267 215.25 303.822C217.987 307.378 220.783 311.006 223.637 314.668C226.491 318.329 229.404 322.034 232.375 325.774C235.345 329.514 238.374 333.297 241.461 337.126C244.548 340.955 247.693 344.857 250.897 348.769C254.1 352.681 257.362 356.61 260.682 360.585C264.002 364.56 267.381 368.61 270.819 372.684C274.257 376.758 277.755 380.871 281.312 385.016C284.869 389.162 288.484 393.351 292.158 397.732C295.831 402.114 299.562 406.645 303.351 411.153C307.14 415.661 310.986 420.225 314.891 424.885C318.796 429.544 322.759 434.363 326.781 439.246C330.803 444.129 334.884 449.072 339.022 453.956C343.16 458.84 347.357 463.769 351.613 468.772C355.869 473.775 360.185 478.906 364.56 484.11C368.936 489.315 373.362 494.597 377.85 499.923C382.338 505.25 386.89 510.622 391.503 516.009C396.115 521.396 400.789 526.859 405.525 532.4C410.261 537.942 415.059 543.563 419.919 549.26C424.779 554.957 429.702 560.711 434.687 566.547C439.672 572.383 444.72 578.325 449.829 584.382C454.938 590.439 460.11 596.541 465.343 602.714C470.576 608.887 475.871 615.131 481.227 621.445C486.582 627.759 492 634.178 497.509 640.671C503.018 647.164 508.589 653.728 514.221 660.364C519.853 667.001 525.546 673.643 531.299 680.308C537.052 686.973 542.866 693.694 548.739 700.454C554.612 707.214 560.554 713.919 566.555 720.675C572.555 727.431 578.615 734.229 584.733 740.999C590.852 747.769 597.029 754.596 603.265 761.486C609.501 768.375 615.797 775.253 622.151 782.154C628.505 789.055 634.918 795.973 641.389 802.926C647.86 809.879 654.389 816.905 660.976 823.953C667.562 831.001 674.198 838.131 680.901 845.315C687.604 852.5 694.367 859.852 701.19 867.272C708.014 874.692 714.888 882.014 721.82 889.385C728.752 896.757 735.746 904.168 742.781 911.637C749.816 919.105 756.9 926.702 764.042 934.35C771.184 942 778.384 949.655 785.641 957.431C792.898 965.206 800.166 972.77 807.482 980.361C814.798 988.951 822.151 997.661 829.563 1006.479C836.976 1015.298 844.434 1024.179 851.95 1032.066C859.466 1039.953 867.03 1047.874 874.651 1055.867C882.272 1063.86 889.949 1071.899 897.679 1079.996C905.41 1088.093 913.238 1096.348 921.128 1104.756C929.018 1113.164 937.513 1121.56 946.067 1130.072C954.622 1138.585 963.244 1147.195 972.936 1155.87C982.628 1164.545 992.368 1173.192 1002.16 1181.33C1011.95 1189.47 1021.67 1197.65 1031.5 1205.96C1041.32 1214.27 1051.22 1222.62 1061.16 1230.88C1071.1 1239.15 1081.05 1247.24 1091.11 1255.5C1101.18 1263.77 1111.38 1272.07 1121.68 1280.36C1131.99 1288.65 1142.34 1296.58 1153.04 1304.6C1163.75 1312.63 1174.56 1320.64 1185.46 1328.77C1196.36 1336.89 1207.35 1345.12 1218.4 1353.34C1229.45 1361.56 1240.56 1370.25 1251.83 1378.91C1263.11 1387.57 1274.47 1395.33 1285.92 1403.85C1297.36 1412.36 1309.86 1421.99 1321.56 1431.33C1333.27 1440.67 1345.04 1450.1 1357.89 1460.55C1370.74 1470.99 1383.63 1481.3 1396.61 1491.58C1409.59 1501.86 1422.65 1512.77 1435.77 1524.92C1448.89 1537.08 1462.01 1549.41 1475.25 1561.8C1488.5 1574.19 1502.76 1587.61 1517.1 1601.55C1531.45 1615.5 1545.88 1629.76 1560.39 1643.07C1575.39 1656.38 1590.43 1669.8 1605.53 1697.2C1620.63 1724.6 1635.03 1751.42 1650.3 1778.35C1665.57 1805.28 1680.92 1832.21 1696.23 1859.01C1711.55 1885.81 1726.96 1912.77 1742.37 1939.76C1757.78 1966.76 1773.23 1994.07 1788.74 2021.55C1804.26 2049.02 1819.8 2076.56 1835.4 2104.1C1851 2131.63 1866.66 2159.13 1882.37 2186.05C1898.08 2212.98 1913.87 2239.17 1929.66 2266.4C1945.46 2293.63 1961.3 2320.97 1977.14 2348.72C1993 2376.47 2009.92 2404.41 2026.92 2432.37C2043.91 2460.34 2061.04 2488.59 2079.06 2516.9C2097.09 2545.21 2115.22 2573.58 2133.38 2602.07C2151.54 2630.56 2169.8 2659.06 2188.26 2687.55C2206.72 2715.05 2225.5 2742.56 2244.39 2770.05C2263.28 2797.53 2282.3 2825.19 2301.43 2853.36C2320.57 2881.53 2339.84 2909.75 2359.23 2938.02C2378.63 2966.29 2398.05 2994.68 2417.57 3023.34C2437.09 3052.01 2456.74 3080.64 2476.48 3109.34C2496.22 3137.85 2516.07 3166.73 2536.02 3195.69C2555.97 3224.65 2576.13 3253.71 2596.46 3282.93C2616.78 3312.15 2637.24 3341.44 2657.84 3370.84C2678.44 3400.25 2699.34 3429.71 2720.43 3459.09C2741.53 3488.47 2762.88 3517.9 2784.44 3547.55C2806 3577.2 2827.77 3607.05 2849.75 3637.82C2871.73 3668.59 2893.91 3699.03 2916.21 3730.02C2938.51 3761.02 2961.03 3792.14 2983.65 3823.96C3006.27 3855.78 3029.56 3887.76 3052.74 3919.96C3076.21 3952.16 3099.87 3984.46 3123.6 4016.97C3147.33 4049.48 3171.18 4082.29 3195.11 4114.59C3218.43 4146.9 3241.88 4179.36 3265.54 4211.89C3289.19 4244.42 3313.08 4277.06 3337.1 4310.82C3361.12 4344.58 3385.24 4379.36 3409.73 4414.22C3434.22 4449.09 3458.84 4484.01 3483.67 4519.08C3508.51 4554.14 3533.43 4589.67 3558.55 4625.36C3583.66 4661.05 3608.86 4696.78 3634.09 4732.47C3659.32 4768.16 3684.7 4804.46 3710.2 4840.98C3735.7 4877.51 3761.33 4913.88 3787.08 4950.36C3812.84 4987.23 3838.7 5024.22 3864.69 5061.35C3890.68 5098.48 3916.8 5135.85 3943.04 5173.22C3969.29 5210.59 3995.67 5248.15 4022.19 5286.07C4048.71 5324.0"
    />
    <span className="sr-only">{label}</span>
  </svg>
  );

  if (overlay) {
    return (
    <div className="fixed inset-0 z-50 flex items-center justify-center bg-black/70 text-white dark:text-white">
        <div className="text-center">
          {spinner}
          <p className="mt-3 text-sm text-white dark:text-white">
            {label}
          </p>
        </div>
      </div>
    );
  }

  return spinner;
};
